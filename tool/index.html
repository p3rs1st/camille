<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>工具 | Never See</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="不见">
    
    <link rel="preload" href="/camille/assets/css/0.styles.ac02bd7f.css" as="style"><link rel="preload" href="/camille/assets/js/app.89cf657d.js" as="script"><link rel="preload" href="/camille/assets/js/2.c0d8e570.js" as="script"><link rel="preload" href="/camille/assets/js/1.b1971c90.js" as="script"><link rel="preload" href="/camille/assets/js/43.203e2859.js" as="script"><link rel="prefetch" href="/camille/assets/js/10.655a1089.js"><link rel="prefetch" href="/camille/assets/js/11.e879aba2.js"><link rel="prefetch" href="/camille/assets/js/12.3d71d70f.js"><link rel="prefetch" href="/camille/assets/js/13.b40e96b9.js"><link rel="prefetch" href="/camille/assets/js/14.a15c23f8.js"><link rel="prefetch" href="/camille/assets/js/15.086621a3.js"><link rel="prefetch" href="/camille/assets/js/16.38ad00d8.js"><link rel="prefetch" href="/camille/assets/js/17.7d9f6541.js"><link rel="prefetch" href="/camille/assets/js/18.58f20acb.js"><link rel="prefetch" href="/camille/assets/js/19.cf2cf075.js"><link rel="prefetch" href="/camille/assets/js/20.f36b6fbb.js"><link rel="prefetch" href="/camille/assets/js/21.d1e109e6.js"><link rel="prefetch" href="/camille/assets/js/22.e5e7d61e.js"><link rel="prefetch" href="/camille/assets/js/23.c0b72d40.js"><link rel="prefetch" href="/camille/assets/js/24.24755f5b.js"><link rel="prefetch" href="/camille/assets/js/25.e79f3b27.js"><link rel="prefetch" href="/camille/assets/js/26.a28b8735.js"><link rel="prefetch" href="/camille/assets/js/27.2019210c.js"><link rel="prefetch" href="/camille/assets/js/28.195e9507.js"><link rel="prefetch" href="/camille/assets/js/29.da9a1b36.js"><link rel="prefetch" href="/camille/assets/js/3.c9a6670a.js"><link rel="prefetch" href="/camille/assets/js/30.7e78e35a.js"><link rel="prefetch" href="/camille/assets/js/31.742a34b1.js"><link rel="prefetch" href="/camille/assets/js/32.c69a703e.js"><link rel="prefetch" href="/camille/assets/js/33.9a798fe0.js"><link rel="prefetch" href="/camille/assets/js/34.09ed62b4.js"><link rel="prefetch" href="/camille/assets/js/35.40c45f3a.js"><link rel="prefetch" href="/camille/assets/js/36.30460db4.js"><link rel="prefetch" href="/camille/assets/js/37.36129612.js"><link rel="prefetch" href="/camille/assets/js/38.84775c59.js"><link rel="prefetch" href="/camille/assets/js/39.233eb667.js"><link rel="prefetch" href="/camille/assets/js/4.51108671.js"><link rel="prefetch" href="/camille/assets/js/40.665ccab0.js"><link rel="prefetch" href="/camille/assets/js/41.8f5e492c.js"><link rel="prefetch" href="/camille/assets/js/42.bc9f0e34.js"><link rel="prefetch" href="/camille/assets/js/44.d6e345f5.js"><link rel="prefetch" href="/camille/assets/js/5.c5132282.js"><link rel="prefetch" href="/camille/assets/js/6.89d8cb10.js"><link rel="prefetch" href="/camille/assets/js/7.ee093510.js"><link rel="prefetch" href="/camille/assets/js/vendors~docsearch.3d49b2ab.js">
    <link rel="stylesheet" href="/camille/assets/css/0.styles.ac02bd7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/camille/" class="home-link router-link-active"><!----> <span class="site-name">Never See</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/camille/tool/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  工具
</a></div><div class="nav-item"><a href="/camille/always/network.html" class="nav-link">
  常用表
</a></div><div class="nav-item"><a href="/camille/basic/network.html" class="nav-link">
  基础知识
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/camille/database/mysql.html" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camille/java/theory/basic/basic.html" class="nav-link">
  基础理论
</a></li><li class="dropdown-subitem"><a href="/camille/java/theory/multi_process/basic.html" class="nav-link">
  多进程
</a></li><li class="dropdown-subitem"><a href="/camille/java/theory/jvm/basic.html" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringBoot
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camille/java/springboot/bug.html" class="nav-link">
  bugs
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/camille/framework/springcloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/camille/framework/dubbo/" class="nav-link">
  Dubbo
</a></li></ul></div></div><div class="nav-item"><a href="/camille/unorganized/" class="nav-link">
  待整理
</a></div><div class="nav-item"><a href="/camille/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/camille/system/" class="nav-link">
  系统安装
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/camille/tool/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  工具
</a></div><div class="nav-item"><a href="/camille/always/network.html" class="nav-link">
  常用表
</a></div><div class="nav-item"><a href="/camille/basic/network.html" class="nav-link">
  基础知识
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/camille/database/mysql.html" class="nav-link">
  MySQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camille/java/theory/basic/basic.html" class="nav-link">
  基础理论
</a></li><li class="dropdown-subitem"><a href="/camille/java/theory/multi_process/basic.html" class="nav-link">
  多进程
</a></li><li class="dropdown-subitem"><a href="/camille/java/theory/jvm/basic.html" class="nav-link">
  JVM
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringBoot
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/camille/java/springboot/bug.html" class="nav-link">
  bugs
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/camille/framework/springcloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/camille/framework/dubbo/" class="nav-link">
  Dubbo
</a></li></ul></div></div><div class="nav-item"><a href="/camille/unorganized/" class="nav-link">
  待整理
</a></div><div class="nav-item"><a href="/camille/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/camille/system/" class="nav-link">
  系统安装
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/camille/tool/#docker" class="sidebar-link">docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/camille/tool/#位置" class="sidebar-link">位置</a></li><li class="sidebar-sub-header"><a href="/camille/tool/#基本命令" class="sidebar-link">基本命令</a></li><li class="sidebar-sub-header"><a href="/camille/tool/#常用容器" class="sidebar-link">常用容器</a></li><li class="sidebar-sub-header"><a href="/camille/tool/#常用dockerfile" class="sidebar-link">常用Dockerfile</a></li></ul></li><li><a href="/camille/tool/#linux" class="sidebar-link">Linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/camille/tool/#创建新用户" class="sidebar-link">创建新用户</a></li><li class="sidebar-sub-header"><a href="/camille/tool/#ssh" class="sidebar-link">ssh</a></li><li class="sidebar-sub-header"><a href="/camille/tool/#环境变量" class="sidebar-link">环境变量</a></li><li class="sidebar-sub-header"><a href="/camille/tool/#glibc-2-28安装" class="sidebar-link">GLIBC_2.28安装</a></li></ul></li><li><a href="/camille/tool/#eslint" class="sidebar-link">ESlint</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/camille/tool/#alibaba-react" class="sidebar-link">Alibaba + React</a></li></ul></li><li><a href="/camille/tool/#nginx" class="sidebar-link">Nginx</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/camille/tool/#常用命令" class="sidebar-link">常用命令</a></li><li class="sidebar-sub-header"><a href="/camille/tool/#配置文件常用" class="sidebar-link">配置文件常用</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="工具"><a href="#工具" class="header-anchor">#</a> 工具</h1> <p></p><div class="table-of-contents"><ul><li><a href="#docker">docker</a><ul><li><a href="#位置">位置</a></li><li><a href="#基本命令">基本命令</a></li><li><a href="#常用容器">常用容器</a></li><li><a href="#常用dockerfile">常用Dockerfile</a></li></ul></li><li><a href="#linux">Linux</a><ul><li><a href="#创建新用户">创建新用户</a></li><li><a href="#ssh">ssh</a></li><li><a href="#环境变量">环境变量</a></li><li><a href="#glibc-2-28安装">GLIBC_2.28安装</a></li></ul></li><li><a href="#eslint">ESlint</a><ul><li><a href="#alibaba-react">Alibaba + React</a></li></ul></li><li><a href="#nginx">Nginx</a><ul><li><a href="#常用命令">常用命令</a></li><li><a href="#配置文件常用">配置文件常用</a></li></ul></li></ul></div><p></p> <h2 id="docker"><a href="#docker" class="header-anchor">#</a> docker</h2> <h3 id="位置"><a href="#位置" class="header-anchor">#</a> 位置</h3> <ul><li>docker在Windows上运行时需要<code>WSL</code>(Windows Susbsytem for Linux), 对应文件管理器左侧<code>Linux</code></li> <li>使用<code>wsl -l -v</code>查看使用的哪一个文件夹(一般为<code>docker-desktop-data</code>)</li> <li>docker一般在<code>docker-desktop-data/data/docker</code>中, 该路径下<code>containers</code>为容器信息, <code>volumes</code>为持久卷, 可以使用<code>docker inspect</code>查看容器与持久卷的对应关系</li> <li>在<code>docker-desktop-data/data/docker/overlay2</code>中存储了每个容器对应生成的linux系统, 对应关系在<code>docker inspect</code>中的<code>GraphDriver.Data.WorkDir</code></li></ul> <h3 id="基本命令"><a href="#基本命令" class="header-anchor">#</a> 基本命令</h3> <p><strong>镜像</strong>:</p> <ul><li><code>docker images</code>查看本机镜像</li> <li><code>docker pull IMAGE[:TAG]</code>拉取镜像<code>IMAGE</code>, 可选版本<code>TAG</code></li> <li><code>docker rmi IMAGE</code>删除镜像<code>IMAGE</code></li></ul> <p><strong>容器</strong>:</p> <ul><li><code>docker ps -a</code>: 查看本机所有容器</li> <li><code>docker start/stop/restart CONTAINER</code>: 启动/停止/重启容器<code>CONTAINER</code>(名称或ID)</li> <li><code>docker rm CONTAINER</code>: 删除容器</li> <li><code>docker exec -it CONTAINER COMMAND</code>: 打开容器<code>CONTAINER</code>的终端, <code>-i</code>交互式, <code>-t</code>分配一个终端, <code>COMMAND</code>指定第一个命令, 一般为<code>bash</code></li> <li><code>docker inspect CONTAINER</code>: 检视容器<code>CONTAINER</code></li> <li><code>docker port CONTAINER</code>: 查看容器<code>CONTAINER</code>端口转换信息</li></ul> <p><strong>构建</strong>:</p> <ul><li><code>docker build [-t NAME[:TAG]] [-f dockerfile_path] path</code>: 构建容器, <code>-t</code>指定名称, <code>-f</code>指定<code>Dockerfile</code>路径, <code>path</code>上下文路径</li></ul> <h3 id="常用容器"><a href="#常用容器" class="header-anchor">#</a> 常用容器</h3> <p><strong>mysql</strong>:</p> <ul><li><code>docker pull mysql</code></li> <li><code>docker run -itd --name CONTAINER -p PORT1:3306 -e MYSQL_ROOT_PASSWORD=PASSWORD mysql</code>: 本机<code>PORT1</code>端口映射容器3306端口(mysql默认端口号), <code>PASSWORD</code>mysql密码, 开启容器<code>CONTAINER</code></li> <li><code>docker exec -it CONTAINER mysql -u root -pPASSWORD</code>: 终端访问mysql, 密码<code>PASSWORD</code></li> <li><code>mysql -uroot -pPASSWORD</code>: 访问数据库, <code>root</code>用户, <code>PASSWORD</code>密码</li> <li><code>设置密码</code>:
<ul><li><code>跳过密码验证</code>: 在<code>my.cnf</code>中加入<code>skip-grant-tables</code></li> <li><code>修改本地密码</code>: <code>bash</code>中输入<code>mysqladmin -u &lt;username&gt; -p &lt;old_passwd&gt; password &lt;new_passwd&gt;</code></li> <li><code>修改远程密码</code>(如docker外): <code>mysql</code>中输入<code>alter user &lt;username&gt;@&lt;host&gt; identified by &lt;new_passwd&gt;;</code></li> <li><code>设置所有权限</code>(如远程权限): <code>mysql</code>中输入<code>grant all privileges on *.* to 'root'@'%';</code></li> <li><code>刷新配置</code>: <code>mysql</code>中输入<code>FLUSH PRIVILEGES;</code></li></ul></li></ul> <p><strong>mongo</strong>:</p> <ul><li><code>docker pull mongo</code></li> <li><code>docker run -itd --name CONTAINER -p PORT1:27017 mongo [--auth]</code>: 本机<code>PORT1</code>端口映射容器27017端口(mongo默认端口号), 开启容器<code>CONTAINER</code>, <code>--auth</code>开启密码访问</li> <li><code>docker exec -it CONTAINER mongosh</code>: 访问数据库</li></ul> <p><strong>redis</strong>:</p> <ul><li><code>docker pull redis</code></li> <li><code>docker run -itd --name CONTAINER -p PORT1:6379 redis [--requirecpass PASS]</code>: 本机<code>PORT1</code>端口映射容器6379端口(redis默认端口号), 开启容器<code>CONTAINER</code>, 密码访问<code>PASS</code></li> <li><code>docker exec -it CONTAINER redis-cli</code>: 访问数据库</li> <li><code>设置密码</code>: 进入<code>redis-cli</code> <ul><li><code>config get requirepass</code>: 查看密码</li> <li><code>config set requirepass &lt;passwd&gt;</code>: 设置密码</li> <li><code>auth &lt;passwd&gt;</code>: 密码登录</li></ul></li></ul> <h3 id="常用dockerfile"><a href="#常用dockerfile" class="header-anchor">#</a> 常用Dockerfile</h3> <p><strong>go</strong>:</p> <div class="language-Dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token comment"># 构建第一步 build基本文件</span>
<span class="token instruction"><span class="token keyword">FROM</span> golang:alpine <span class="token keyword">AS</span> build</span>

<span class="token instruction"><span class="token keyword">ENV</span> GIN_MODE=release</span>
<span class="token instruction"><span class="token keyword">ENV</span> PORT=9000</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/src/app</span>

<span class="token instruction"><span class="token keyword">COPY</span> go.mod go.sum ./</span>
<span class="token instruction"><span class="token keyword">RUN</span> go env -w GOPROXY=https://goproxy.cn,direct</span>
<span class="token instruction"><span class="token keyword">RUN</span> go mod download &amp;&amp; go mod verify</span>

<span class="token comment"># 拷贝使用的相关文件, 如配置文件</span>
<span class="token instruction"><span class="token keyword">COPY</span> . .</span>
<span class="token instruction"><span class="token keyword">RUN</span> go build -v -o app ./main.go</span>

<span class="token comment"># 构建第二步 仅拷贝必要文件</span>
<span class="token comment"># alpine为包含基本功能的最小单位</span>
<span class="token instruction"><span class="token keyword">FROM</span> alpine</span>

<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build</span></span> /usr/src/app /</span>

<span class="token instruction"><span class="token keyword">EXPOSE</span> <span class="token variable">$PORT</span></span>

<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/app&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h2> <h3 id="创建新用户"><a href="#创建新用户" class="header-anchor">#</a> 创建新用户</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">useradd</span> <span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> <span class="token comment"># 创建新用户</span>
<span class="token function">passwd</span> <span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> <span class="token comment"># 设置密码</span>
<span class="token comment"># 拷贝基本环境</span>
<span class="token function">mkdir</span> /home/<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>
<span class="token function">cp</span> /etc/skel/.b* /home/<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>
<span class="token function">cp</span> /etc/skel/.p* /home/<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>
<span class="token function">chown</span> <span class="token parameter variable">-R</span> <span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> /home/<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>
<span class="token function">chmod</span> <span class="token number">770</span> /home/<span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>
<span class="token function">usermod</span> <span class="token parameter variable">-s</span> /bin/bash <span class="token operator">&lt;</span>user<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="ssh"><a href="#ssh" class="header-anchor">#</a> ssh</h3> <p><strong>客户端添加ssh</strong>:</p> <ol><li><code>ssh-keygen -t ed25519 -C &quot;title&quot;</code>, <code>ed25519</code>为生成算法, <code>title</code>最好为邮箱</li> <li>提示<code>Enter file in ...</code>, 输入名字<code>name</code>区分不同ssh, 密码设置可以回车跳过</li> <li>在<code>~/.ssh</code>文件夹下有对应的<code>name</code>秘钥和<code>name.pub</code>公钥</li></ol> <p><strong>客户端管理多个ssh</strong>:</p> <ol><li><code>ssh-add -l</code>查看是否有代理, 若为<code>Could not open a connection to your authentication agent.</code>, 则<code>exec ssh-agent bash</code></li> <li><code>ssh-add ~/.ssh/id_ed25519</code>添加代理, 参数为添加的文件路径</li> <li>配置<code>~/.ssh/config</code>如下</li></ol> <div class="language-Config line-numbers-mode"><pre class="language-text"><code>Host &lt;name&gt; # 用于区分的名字
  HostName &lt;ip&gt; # 仓库地址
  PreferredAuthentications publickey
  User &lt;user&gt; # 登录用户
  IdentityFile &lt;file&gt; # 使用的密钥对
  Port &lt;port&gt; # 连接使用端口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>服务端添加ssh</strong>:</p> <ol><li>在<code>root</code>身份下</li> <li><code>chmod 700 /home/&lt;user&gt;</code></li> <li>在<code>/home/&lt;user&gt;/.ssh/authorized_keys</code>中添加客户端公钥</li></ol> <h3 id="环境变量"><a href="#环境变量" class="header-anchor">#</a> 环境变量</h3> <ol><li>在<code>/etc/profile</code>中使用<code>export a=b</code>语法配置</li> <li>在<code>~/.bashrc</code>中加入<code>source /etc/profile</code>, 每次终端启动都会加载</li> <li>在<code>~/.screenrc</code>中加入<code>termcapinfo xterm*|rxvt*|kterm*|Eterm* ti@:te@</code>, 支持screen的滚轮</li></ol> <h3 id="glibc-2-28安装"><a href="#glibc-2-28安装" class="header-anchor">#</a> GLIBC_2.28安装</h3> <p><strong>注意</strong>: <strong>最好不要使用该方法</strong>, 若过程中出现命令不可用的情况, 使用<code>LD_PRELOAD=/lib/x86_64-linux-gnu/libc-2.27.so COMMAND</code>的形式调用命令<code>COMMAND</code>, 若系统没有<code>libc-2.27.so</code>则使用<code>libc.so.6</code>链接到的文件</p> <ul><li>以下命令基于<code>libc-2.27.so</code>环境, 以及</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">su</span>
<span class="token builtin class-name">cd</span> ~
<span class="token function">curl</span> <span class="token parameter variable">-O</span> http://ftp.gnu.org/gnu/glibc/glibc-2.28.tar.gz
<span class="token function">tar</span> zxf glibc-2.28.tar.gz 
<span class="token builtin class-name">cd</span> glibc-2.28/
<span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build/
<span class="token punctuation">..</span>/configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/glibc-2.28
<span class="token function">make</span> <span class="token parameter variable">-j2</span>
<span class="token function">make</span> <span class="token function">install</span>

<span class="token comment"># make install WSL下出现报错</span>
<span class="token function">mkdir</span> /usr/lib/wsl/lib2
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/lib/wsl/lib/* /usr/lib/wsl/lib2
ldconfig

<span class="token comment"># 每次重启后不自动还原</span>
<span class="token function">vi</span> /etc/wsl.conf
<span class="token comment"># content</span>
<span class="token punctuation">[</span>automount<span class="token punctuation">]</span>
ldconfig <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token comment"># content end</span>
<span class="token comment"># make install end</span>

<span class="token comment"># 修改libc.so.6连接后无法直接使用任何命令, 需要在命令前面加上LD_PRELOAD的形式</span>

<span class="token builtin class-name">cd</span> /lib/x86_64-linux-gnu
<span class="token function">cp</span> /usr/local/glibc-2.28/lib/ld-2.28.so <span class="token builtin class-name">.</span>
<span class="token function">cp</span> /usr/local/glibc-2.28/lib/libc-2.28.so <span class="token builtin class-name">.</span>
unlink ld-linux-x86-64.so.2
<span class="token function">ln</span> <span class="token parameter variable">-s</span> ld-2.28.so ld-linux-x86-64.so.2
unlink libc.so.6
<span class="token assign-left variable">LD_PRELOAD</span><span class="token operator">=</span>libc-2.27.so <span class="token function">ln</span> <span class="token parameter variable">-s</span> libc-2.28.so libc.so.6
<span class="token assign-left variable">LD_PRELOAD</span><span class="token operator">=</span>/lib/x86_64-linux-gnu/libc-2.27.so unlink /lib64/ld-linux-x86-64.so.2
/lib/x86_64-linux-gnu/ld-2.28.so /bin/ln <span class="token parameter variable">-s</span> /lib/x86_64-linux-gnu/ld-2.28.so /lib64/ld-linux-x86-64.so.2
strings /lib/x86_64-linux-gnu/libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> GLIBC_2.28 <span class="token comment"># 查看是否安装成功</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h2 id="eslint"><a href="#eslint" class="header-anchor">#</a> ESlint</h2> <h3 id="alibaba-react"><a href="#alibaba-react" class="header-anchor">#</a> Alibaba + React</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 全局安装 局部安装会导致阿里云流水线失败(原因是阿里云node版本不够用)</span>
<span class="token function">npm</span> i <span class="token parameter variable">-g</span> eslint-config-ali @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-import eslint-import-resolver-typescript eslint-plugin-react eslint-plugin-react-hooks
<span class="token comment"># npx eslint -h</span>
<span class="token comment"># 查看文档</span>
<span class="token function">vi</span> .eslintrc.json

<span class="token comment"># 编辑开始</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;extends&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;eslint-config-ali/typescript/react&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment"># 编辑结束</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h2> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <ul><li><code>nginx测试 + 查看nginx使用的配置文件</code>: <code>nginx -t</code></li> <li><code>nginx部署</code>: <code>nginx</code></li> <li><code>nginx重启</code>: <code>nginx -s reload</code></li></ul> <h3 id="配置文件常用"><a href="#配置文件常用" class="header-anchor">#</a> 配置文件常用</h3> <ul><li>注意配置文件中涉及路径参数需具体调整</li></ul> <div class="language-nginx.conf line-numbers-mode"><pre class="language-text"><code>server {
  listen 80
  server_name a.com; # 多个域名同一ip同一端口时发挥作用
  # 前端
  location / {
    root /home/frontend/package; # 前端打包资源的文件夹
    index index.html; # 入口文件
    try_files $uri $uri/ /index.html;
    proxy_set_header Host $http_host;
  }
  # 后端1 访问时为a.com/api/...
  location /api/ {
    proxy_pass http://127.0.0.1:8080; # 调整为后端运行的端口号
  }
  # 后端静态资源(java打包后静态资源原本应在jar包中不方便取出, 故额外配置)
  # 使用springboot时注意给静态资源拦截器添加映射关系
  location /backendresource/ {
    proxy_pass http://127.0.0.1:8080;
  }
}

# 后端2 访问时为a.com:8000/api/...
server {
  listen 8000
  server_name a.com;
  location / {
    proxy_pass http://127.0.0.1:8000;
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">2023/8/1 17:01:26</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/camille/assets/js/app.89cf657d.js" defer></script><script src="/camille/assets/js/2.c0d8e570.js" defer></script><script src="/camille/assets/js/1.b1971c90.js" defer></script><script src="/camille/assets/js/43.203e2859.js" defer></script>
  </body>
</html>
