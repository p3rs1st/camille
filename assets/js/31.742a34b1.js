(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{316:function(v,_,a){"use strict";a.r(_);var t=a(10),e=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"alibaba"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#alibaba"}},[v._v("#")]),v._v(" Alibaba")]),v._v(" "),_("p"),_("div",{staticClass:"table-of-contents"},[_("ul",[_("li",[_("a",{attrs:{href:"#nacos"}},[v._v("Nacos")]),_("ul",[_("li",[_("a",{attrs:{href:"#特性"}},[v._v("特性")])])])]),_("li",[_("a",{attrs:{href:"#sentinel"}},[v._v("Sentinel")]),_("ul",[_("li",[_("a",{attrs:{href:"#定义资源方式"}},[v._v("定义资源方式")])]),_("li",[_("a",{attrs:{href:"#流量控制规则"}},[v._v("流量控制规则")])])])]),_("li",[_("a",{attrs:{href:"#seata"}},[v._v("Seata")]),_("ul",[_("li",[_("a",{attrs:{href:"#核心组件"}},[v._v("核心组件")])]),_("li",[_("a",{attrs:{href:"#at模式"}},[v._v("AT模式")])])])])])]),_("p"),v._v(" "),_("h2",{attrs:{id:"nacos"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#nacos"}},[v._v("#")]),v._v(" Nacos")]),v._v(" "),_("p",[v._v("服务注册与配置中心")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("Nacos Server")]),v._v(": 服务注册中心和配置中心, 直接下载并运行即可")]),v._v(" "),_("li",[_("code",[v._v("Nacos Client")]),v._v(": 客户端, 可以使用多种语言")])]),v._v(" "),_("h3",{attrs:{id:"特性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[v._v("#")]),v._v(" 特性")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("服务发现")]),v._v(": 基于DNS和RPC的服务发现")]),v._v(" "),_("li",[_("code",[v._v("服务健康监测")]),v._v(": 对服务的实时健康检查")]),v._v(" "),_("li",[_("code",[v._v("动态配置服务")])]),v._v(" "),_("li",[_("code",[v._v("动态DNS服务")])]),v._v(" "),_("li",[_("code",[v._v("服务及其元数据管理")])])]),v._v(" "),_("h2",{attrs:{id:"sentinel"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sentinel"}},[v._v("#")]),v._v(" Sentinel")]),v._v(" "),_("p",[v._v("高可用流量控制组件")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("Sentinel核心库")]),v._v(": 不依赖任何框架或库, 运行在JAVA8及以上的环境")]),v._v(" "),_("li",[_("code",[v._v("Sentinel控制台")]),v._v(": 可视化地操作"),_("code",[v._v("Sentinel")]),v._v("的核心函数")])]),v._v(" "),_("p",[_("strong",[v._v("核心概念")]),v._v(":")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("资源")]),v._v(": 任何想要被保护的内容")]),v._v(" "),_("li",[_("code",[v._v("规则")]),v._v(": 围绕资源设定的规则")])]),v._v(" "),_("h3",{attrs:{id:"定义资源方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#定义资源方式"}},[v._v("#")]),v._v(" 定义资源方式")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("SphU类")]),v._v(": 使用类"),_("code",[v._v("SphU")]),v._v("以及try-catch代码块")]),v._v(" "),_("li",[_("code",[v._v("SphO类")]),v._v(": 使用类"),_("code",[v._v("SphO")]),v._v("以及if-else代码块")]),v._v(" "),_("li",[_("code",[v._v("@SentinelResource")]),v._v(": 使用注解"),_("code",[v._v("@SentinelResource")])])]),v._v(" "),_("h3",{attrs:{id:"流量控制规则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#流量控制规则"}},[v._v("#")]),v._v(" 流量控制规则")]),v._v(" "),_("ul",[_("li",[v._v("控制台操作")]),v._v(" "),_("li",[v._v("初始化代码"),_("code",[v._v("FlowRuleManager.loadRules(List<DegradeRule>)")]),v._v("定义")])]),v._v(" "),_("h2",{attrs:{id:"seata"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#seata"}},[v._v("#")]),v._v(" Seata")]),v._v(" "),_("p",[v._v("分布式事务组件")]),v._v(" "),_("p",[_("strong",[v._v("核心概念")]),v._v(":")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("本地事务")]),v._v(": 由本地资源管理器管理, 严格支持ACID")]),v._v(" "),_("li",[_("code",[v._v("分支事务")]),v._v(": 受全局事务管理和协调的本地事务")]),v._v(" "),_("li",[_("code",[v._v("全局事务")]),v._v(": 一次操作多个资源管理器完成的事务")])]),v._v(" "),_("h3",{attrs:{id:"核心组件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#核心组件"}},[v._v("#")]),v._v(" 核心组件")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("TC(Transaction Coordinator)")]),v._v(": 事务协调器, Seata服务器, 维护全局事务和分支事务状态, 驱动事务提交或回滚")]),v._v(" "),_("li",[_("code",[v._v("TM(Transaction Manager)")]),v._v(": 事务管理器, 事务发起者, 定义全局事务范围, 做事务操作的决定")]),v._v(" "),_("li",[_("code",[v._v("RM(Resource Manager)")]),v._v(": 资源管理器, 管理分支事务上的资源, 驱动分支事务")]),v._v(" "),_("li",[_("code",[v._v("XID")]),v._v(": 全局事务的唯一标识")])]),v._v(" "),_("p",[_("strong",[v._v("工作流程")]),v._v(":")]),v._v(" "),_("ol",[_("li",[v._v("TM向TC申请一个全局事务, 获得XID")]),v._v(" "),_("li",[v._v("XID通过服务调用链传给其他RM")]),v._v(" "),_("li",[v._v("RM向TC注册一个分支事务, 纳入到XID对应的全局事务")]),v._v(" "),_("li",[v._v("TM根据TC收集的分支事务执行结果, 向TC发出全局事务操作的决议")]),v._v(" "),_("li",[v._v("TC调度XID下的所有分支事务提交或回滚")])]),v._v(" "),_("h3",{attrs:{id:"at模式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#at模式"}},[v._v("#")]),v._v(" AT模式")]),v._v(" "),_("ol",[_("li",[v._v("使用关系型数据库, 且为使用JDBC连接数据库的JAVA应用")]),v._v(" "),_("li",[v._v("获取SQL信息, 生成修改前后数据信息, 插入到回滚日志中")]),v._v(" "),_("li",[v._v("注册分支事务, 生成行锁, 提交本地事务并向TC提供结果")]),v._v(" "),_("li",[v._v("若所有分支事务成功, 则删除回滚日志相关信息")]),v._v(" "),_("li",[v._v("若有分支事务失败, 通过回滚日志回滚, 若修改后数据信息与当前数据不同, 则需人工处理, 否则生成回滚数据还原")])])])}),[],!1,null,null,null);_.default=e.exports}}]);